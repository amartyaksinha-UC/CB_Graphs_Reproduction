"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 1)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 3) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 1)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 1) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 1)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 2) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 1)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 1.5) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 1.5) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5),
theme(legend.text = element_text(size = 8),
legend.key.size = unit(0.5, "cm"),
legend.title = element_text(size = 9))
) +
scale_y_continuous(limits = c(0, 100))
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5),
theme(legend.text = element_text(size = 8),
legend.key.size = unit(0.5, "cm"),
legend.title = element_text(size = 9)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5),
theme(legend.text = element_text(size = 8),
legend.key.size = unit(0.5, "cm"),
legend.title = element_text(size = 9)
) +
scale_y_continuous(limits = c(0, 100)))
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5),
legend.text = element_text(size = 8),
legend.key.size = unit(0.5, "cm"),
legend.title = element_text(size = 9)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 1.5) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5),
legend.text = element_text(size = 8),
legend.key.size = unit(0.5, "cm"),
legend.title = element_text(size = 6)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 1.5) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5),
legend.text = element_text(size = 5),
legend.key.size = unit(0.5, "cm"),
legend.title = element_text(size = 7)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 1.5) # Adjust text size as needed
library(stringr)
library(scales)
percentages$Education <- factor(
percentages$Education,
levels = c(
"Less than a High School Diploma",
"High School Diploma",
"Some College, No Degree",
"Associate Degree",
"Bachelor's Degree",
"Master's Degree",
"Doctoral Degree",
"Professional Degree"
)
)
percentages <- percentages %>%
filter(!is.na(Household_Type))
percentages$Household_Type <- str_wrap(percentages$Household_Type, width = 15)
p <- ggplot(percentages, aes(x = Household_Type, y = Poverty_Rate, fill = Education)) +
geom_bar(stat = "identity", position = position_dodge(width = 0.9)) +
scale_fill_manual(values = education_colors) +
labs(
title = "Percentage of Individuals Age 25 and Older\
Living in Households in Poverty\
by Household Type and Education Level\
in Illinois, 2022",
fill = "Education Level",
x = "Household Type",
y = "Poverty Rate"
) +
theme_minimal() +
theme(
plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
axis.title.x = element_text(vjust = -1),
axis.text.x = element_text(vjust = 1, hjust = 0.5),
legend.text = element_text(size = 6),
legend.key.size = unit(0.5, "cm"),
legend.title = element_text(size = 7)
) +
scale_y_continuous(limits = c(0, 100))
p + geom_text(aes(label = round(Poverty_Rate, 1)),
position = position_dodge(width = 0.9),
vjust = -0.5, # Adjust this value to move text up or down
size = 1.5) # Adjust text size as needed
ggsave("Figure 2.16A.png", plot = last_plot(), width = 10, height = 8, units = "in", dpi = 300)
knitr::opts_chunk$set(echo = TRUE)
setwd("C:/Users/Aishwarya S/OneDrive - The University of Chicago/Advance Illinois/GraphsToReplicate/Figure 2.17")
library(dplyr)
library(ggplot2)
library(scales)
raw_import <- read.csv("usa_00004.csv.gz")
filtered <- raw_import %>%
filter(YEAR == 2022,
AGE > 24,
STATEFIP == 17)
filtered <- filtered %>%
mutate(Education = case_when(
EDUCD %in% c(002:061) ~ "Less than a High School Diploma",
EDUCD %in% c(062:064) ~ "High School Diploma",
EDUCD %in% c(065:080) ~ "Some College, No Degree",
EDUCD %in% c(081:083) ~ "Associate Degree",
EDUCD == 101 ~ "Bachelor's Degree",
EDUCD == 114 ~ "Master's Degree",
EDUCD == 116 ~ "Doctoral Degree",
EDUCD == 115 ~ "Professional Degree"
))
